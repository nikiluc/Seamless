(this["webpackJsonpspotify-cs"]=this["webpackJsonpspotify-cs"]||[]).push([[0],{48:function(e,t,a){"use strict";(function(e){var n=a(17),i=a(0),s=(a(68),a(28)),c=a(23),o=a(49),r=a.n(o),d=a(50),l=a(51),m=(a(69),a(7)),u=a.n(m),h=a(94),f=a(95),j=a(54),b=a(55),p=a(22),_=a(39),O=a(56),g=a(52),x=a.n(g),v=a(34),y=a.n(v),w=a(6);x.a.config({path:".env"});var C,S;t.a=function(){var t=Object(i.useState)(""),a=Object(n.a)(t,2),o=a[0],m=a[1],g=Object(i.useState)(""),x=Object(n.a)(g,2),v=x[0],N=x[1],k=Object(i.useState)(!1),T=Object(n.a)(k,2),I=T[0],B=T[1],E=Object(i.useState)(!1),P=Object(n.a)(E,2),D=P[0],J=P[1],z=Object(i.useState)(!1),A=Object(n.a)(z,2),L=A[0],U=A[1],F=Object(i.useState)(!1),q=Object(n.a)(F,2),G=q[0],M=q[1],R=Object(i.useState)(!1),$=Object(n.a)(R,2),V=$[0],H=$[1],Y=Object(i.useRef)(null);u()((function(){fetch("/api/isSignedIn",{method:"POST",mode:"cors",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify({})}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.text()})).then((function(e){"true"===e&&Q()})).catch((function(e){console.log(e)})),window.$("#js-rotating").Morphext({animation:"animate__animated animate__fadeInUp",separator:",",speed:2500,complete:function(){}}),y()("https://accounts.spotify.com/api/token",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+e.from("97b5a09a556b49bdb52b5db0c4dec41b:4d6cf42dbc6049328cc0779a97d5c976").toString("base64")},data:"grant_type=client_credentials",method:"POST"}).then((function(e){C=e.data.access_token})),window.$("#autocomplete").autocomplete({source:function(e,t){var a=e.term.toLowerCase().split(" ").join("+");y()("https://api.spotify.com/v1/search?q=".concat(a,"&type=track&market=US"),{method:"GET",headers:{Authorization:"Bearer "+C}}).then((function(e){t(u.a.map(e.data.tracks.items.slice(0,5),(function(e){return{label:e.name+" by "+e.artists[0].name,value:e.name+" "+e.artists[0].name,id:e.id}})))})).catch((function(e){console.log(e.response)}))},minLength:1,select:function(e,t){window.$("#autocomplete").val(t.item.value),window.location.href="#"+t.item.value,m(t.item.value),N(t.item.id)}})}));function K(){u()(".title").addClass("animate__animated animate__fadeOut"),u()(".form-rounded").addClass("animate__animated animate__fadeOutUp"),u()(".submitBtn").addClass("animate__animated animate__fadeOutDown"),setTimeout((function(){J(!0)}),2e3),u()(".music").addClass("animate__animated animate__fadeIn"),u()(".spinner").addClass("animate__animated animate__fadeIn")}function Q(){u()(".signOutBtn").addClass("animate__animated animate__fadeInDown").attr("hidden",!1)}function W(){window.location.reload()}function X(e){fetch("/api/playlist",{method:"POST",mode:"cors",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify({search_str:e})}).then((function(e){return e.ok||(M(!0),setTimeout((function(){W()}),4e3)),e.text()})).then((function(e){""===o&&(S.activate(),S.callProjectApi("setClientData1",{value:e},(function(e,t){e&&console.error(e)}))),function(e){u()(".music").removeClass("animate__animated animate__fadeIn"),u()(".spinner").removeClass("animate__animated animate__fadeIn"),u()(".music").addClass("animate__animated animate__fadeOut"),u()(".spinner").addClass("animate__animated animate__fadeOut"),u()(".spotifyButton").addClass("animate__animated animate__fadeInDown").attr("hidden",!1);var t=u()("ul.songList").addClass("animate__animated animate__fadeIn").attr("hidden",!1);e.forEach((function(e){var a=u()('<ListGroupItem as="li" bsClass="customList"/>').addClass("animate__animated animate__fadeInUp").appendTo(t);u()("<a href= ".concat(e.externalURL,' target="_blank" rel="noopener noreferrer"\' +\'/>')).addClass("list-group-item").text(e.title+" by "+e.artist).appendTo(a)})),J(!1),u()(".animate__animated animate__fadeInDown").remove(),u()(".searchbar").remove(),u()(".submitBtn").remove(),u()(".title").removeClass("animate__animated animate__fadeOut"),u()(".title").css("margin-top","80px"),u()(".title").addClass("animate__animated animate__fadeInDown")}(JSON.parse(e))}))}function Z(e){fetch("/api/postPlaylist",{method:"POST",mode:"cors",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify({ans:e})}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.text()})).then((function(e){"True"===e&&(setTimeout((function(){Q()}),2e3),U(!0),S.playText("Done."))})).catch((function(e){console.log(e)}))}return Object(i.useEffect)((function(){S=r()({key:"08dd587b9900d0225d9ec940df3f5af82e956eca572e1d8b807a3e2338fdd0dc/stage",onCommand:function(e){var t=e.command,a=e.song_info,n=e.search_str,i=e.ans;"listSearch"===t?function(e){window.open(e.external_urls.spotify)}(a):"makePlaylist"===t?(K(),X(n)):"postPlaylist"===t&&Z(i)},rootEl:document.getElementById("alan-btn")})}),[]),Object(w.jsxs)("div",{style:{height:"100%",backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.4)), url(".concat(d.a,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[Object(w.jsxs)("div",{className:"main-div",children:[Object(w.jsx)(c.a,{className:"signOutBtn",size:"sm",variant:"success",type:"submit",hidden:!0,onClick:function(){fetch("/api/signOut",{method:"POST",mode:"cors",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify({})}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.text()})).then((function(e){})).catch((function(e){console.log(e)})),W()},children:"Sign Out"}),"",Object(w.jsx)("div",{className:"animate__animated animate__fadeIn",children:Object(w.jsx)("h1",{className:"title",id:"titleLink",children:"Seamless"})}),Object(w.jsx)("div",{className:"animate__animated animate__fadeInDown",children:Object(w.jsx)("div",{ref:Y,children:Object(w.jsx)(s.a,{id:"searchForm",ref:Y,noValidate:!0,validated:I,onSubmit:function(e){if(!1===e.target.checkValidity());else{var t=o.toLowerCase().split(" ").join("+");y()("https://api.spotify.com/v1/search?q=".concat(t,"&type=track&market=US"),{method:"GET",headers:{Authorization:"Bearer "+C}}).then((function(t){t.data.tracks.items.length>=1?(e.preventDefault(),K(),X(v),J(!1)):(e.preventDefault(),H(!0),B(!1))})).catch((function(e){console.log(e.response)}))}e.preventDefault(),B(!0)},children:Object(w.jsxs)(s.a.Group,{className:"searchbar",children:[Object(w.jsx)(s.a.Control,{className:"form-rounded",id:"autocomplete",value:o,size:"lg",type:"text",placeholder:"Enter an artist and song :)",onChange:function(e){m(e.target.value),H(!1)},required:!0}),Object(w.jsx)(s.a.Control.Feedback,{type:"invalid",children:"Please enter a song and artist."})]})})})}),Object(w.jsxs)("div",{className:"animate__animated animate__fadeInUp",children:[Object(w.jsx)(c.a,{form:"searchForm",className:"submitBtn",size:"lg",variant:"success",type:"submit",children:"Submit"}),"",Object(w.jsx)(O.a,{show:V,target:Y.current,placement:"right",children:Object(w.jsx)(_.a,{id:"popover-basic",children:Object(w.jsxs)(_.a.Content,{children:[Object(w.jsx)("strong",{children:"Uh oh"})," we couldn't find your song. Please try a different song!"]})})})]}),Object(w.jsx)("div",{className:"addToSpotify",children:Object(w.jsx)(h.a,{children:Object(w.jsxs)(j.a,{className:"justify-content-center",md:"auto",children:[Object(w.jsx)(c.a,{className:"spotifyButton",hidden:!0,size:"lg",variant:"success",type:"button",disabled:L,onClick:function(){Z("True")},children:L?"Done!":"Add to Spotify"}),"",Object(w.jsx)(c.a,{className:"spotifyButton",hidden:!0,size:"lg",variant:"success",type:"button",onClick:W,children:"Create Another"}),""]})})}),Object(w.jsx)("div",{className:"errorModal",children:Object(w.jsxs)(p.a,{size:"lg",show:G,children:[Object(w.jsx)(p.a.Header,{closeButton:!0,children:Object(w.jsx)(p.a.Title,{children:"Error"})}),Object(w.jsx)(p.a.Body,{children:"Oops! Something went wrong. Refreshing the page in a few seconds..."}),Object(w.jsx)(p.a.Footer,{children:Object(w.jsx)(c.a,{variant:"secondary",onClick:function(){M(!1)},children:"Close"})})]})}),Object(w.jsx)("div",{children:Object(w.jsx)(b.a,{className:"music",src:l.a,roundedCircle:!0,hidden:!D})}),Object(w.jsx)("span",{hidden:!D,id:"js-rotating",children:"Studying similar artists..., You have an awesome taste in music!, Finding great songs..., Putting you on to new sounds..., Thanks for using Seamless :), Elvis?? That's not right..., Back on track!...sorta?, Brining you quality music...,"}),Object(w.jsxs)("div",{className:"spinner",hidden:!D,children:[Object(w.jsx)("div",{className:"rect1"}),Object(w.jsx)("div",{className:"rect2"}),Object(w.jsx)("div",{className:"rect3"}),Object(w.jsx)("div",{className:"rect4"}),Object(w.jsx)("div",{className:"rect5"})]}),Object(w.jsx)("div",{className:"animate-flicker",hidden:!D}),Object(w.jsx)("div",{children:Object(w.jsx)(f.a,{as:"ul",className:"songList",hidden:!0})})]}),Object(w.jsx)("footer",{className:"footer",children:Object(w.jsx)("div",{className:"tech",children:Object(w.jsx)("p",{})})})]})}}).call(this,a(63).Buffer)},50:function(e,t,a){"use strict";t.a=a.p+"static/media/download.11a8d496.png"},51:function(e,t,a){"use strict";t.a=a.p+"static/media/jakeMusic.8085185a.gif"},57:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(11),c=a.n(s),o=(a(62),a(48)),r=a(6);c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(o.a,{})}),document.getElementById("root"))},62:function(e,t,a){},69:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.f9dca2a3.chunk.js.map